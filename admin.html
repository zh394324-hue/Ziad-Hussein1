<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… | Ù…Ø·Ø¹Ù… Ø§Ù„Ø´ÙŠÙ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap');
        
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #ff6b35;
            --primary-dark: #e55a2b;
            --dark: #1a1a2e;
            --gray: #6c757d;
            --light: #f8f9fa;
            --white: #ffffff;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #17a2b8;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background: var(--light);
            min-height: 100vh;
        }
        
        /* ===== BUTTONS ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 10px 20px;
            border: 2px solid transparent;
            border-radius: 10px;
            font-family: inherit;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            outline: none;
        }
        
        .btn:active { transform: scale(0.95); }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
        }
        
        .btn-primary:hover { box-shadow: 0 4px 15px rgba(255, 107, 53, 0.4); }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success), #1e7e34);
            color: var(--white);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #c82333);
            color: var(--white);
        }
        
        .btn-outline {
            background: var(--white);
            color: var(--dark);
            border-color: #ddd;
        }
        
        .btn-outline:hover { border-color: var(--primary); color: var(--primary); }
        
        .btn-sm { padding: 8px 14px; font-size: 13px; }
        
        /* ===== LAYOUT ===== */
        .app { display: flex; min-height: 100vh; }
        
        /* ===== SIDEBAR ===== */
        .sidebar {
            width: 240px;
            background: linear-gradient(180deg, var(--dark), #16213e);
            color: var(--white);
            position: fixed;
            height: 100vh;
            display: flex;
            flex-direction: column;
            z-index: 100;
            transition: transform 0.3s;
        }
        
        .sidebar-header {
            padding: 20px 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .sidebar-logo {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .sidebar-header h1 { font-size: 16px; font-weight: 700; }
        .sidebar-header small { color: rgba(255,255,255,0.5); font-size: 11px; display: block; }
        
        .sidebar-nav {
            flex: 1;
            padding: 15px 10px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 14px;
            border-radius: 10px;
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            font-family: inherit;
        }
        
        .nav-item:hover { background: rgba(255,255,255,0.1); color: var(--white); }
        .nav-item.active { background: var(--primary); color: var(--white); }
        .nav-item i { width: 18px; font-size: 16px; }
        
        .sidebar-footer {
            padding: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        
        .sidebar-footer a,
        .sidebar-footer button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            border-radius: 8px;
            color: rgba(255,255,255,0.6);
            text-decoration: none;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            font-family: inherit;
            margin-bottom: 5px;
        }
        
        .sidebar-footer a:hover { color: var(--primary); }
        .sidebar-footer button:hover { color: var(--danger); }
        
        /* ===== MAIN ===== */
        .main {
            flex: 1;
            margin-right: 240px;
            display: flex;
            flex-direction: column;
        }
        
        /* ===== HEADER ===== */
        .header {
            background: var(--white);
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 50;
        }
        
        .header-title h2 { font-size: 20px; color: var(--dark); }
        .header-title p { color: var(--gray); font-size: 13px; }
        
        .header-actions { display: flex; align-items: center; gap: 12px; }
        
        .notif-btn {
            position: relative;
            width: 40px;
            height: 40px;
            background: var(--light);
            border: none;
            border-radius: 10px;
            font-size: 16px;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .notif-btn:hover { background: #e9ecef; color: var(--primary); }
        
        .notif-badge {
            position: absolute;
            top: -3px;
            right: -3px;
            min-width: 18px;
            height: 18px;
            padding: 0 5px;
            background: var(--danger);
            color: var(--white);
            font-size: 10px;
            font-weight: 700;
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--white);
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 16px;
        }
        
        .mobile-toggle {
            display: none;
            width: 40px;
            height: 40px;
            background: var(--light);
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
        }
        
        /* ===== CONTENT ===== */
        .content { padding: 25px; flex: 1; }
        
        /* ===== SECTIONS ===== */
        .section { display: none; animation: fadeIn 0.3s ease; }
        .section.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ===== STATS ===== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: var(--white);
            padding: 20px;
            border-radius: 14px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .stat-icon.blue { background: #e3f2fd; color: #1976d2; }
        .stat-icon.green { background: #e8f5e9; color: #388e3c; }
        .stat-icon.orange { background: #fff3e0; color: #f57c00; }
        .stat-icon.purple { background: #f3e5f5; color: #7b1fa2; }
        
        .stat-info h3 { font-size: 24px; font-weight: 800; color: var(--dark); }
        .stat-info p { color: var(--gray); font-size: 13px; }
        
        /* ===== CARD ===== */
        .card {
            background: var(--white);
            border-radius: 14px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.05);
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .card-header {
            padding: 16px 20px;
            border-bottom: 2px solid var(--light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .card-header h3 {
            font-size: 16px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .card-header h3 i { color: var(--primary); }
        
        .card-body { padding: 20px; }
        
        .card-filters { display: flex; gap: 10px; flex-wrap: wrap; }
        
        /* ===== FORM ===== */
        .form-group { margin-bottom: 16px; }
        
        .form-group label {
            display: block;
            font-weight: 700;
            margin-bottom: 6px;
            color: var(--dark);
            font-size: 13px;
        }
        
        .form-input,
        .form-select {
            width: 100%;
            padding: 10px 14px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-family: inherit;
            font-size: 14px;
            transition: all 0.3s;
            outline: none;
        }
        
        .form-input:focus,
        .form-select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }
        
        /* ===== ORDER ITEM ===== */
        .order-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 16px;
            background: var(--light);
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .order-item:hover { background: #e9ecef; transform: translateX(-3px); }
        
        .order-info h4 { font-size: 14px; color: var(--dark); margin-bottom: 3px; }
        .order-info p { font-size: 12px; color: var(--gray); }
        
        .order-meta { text-align: left; }
        .order-meta .price { font-size: 15px; font-weight: 700; color: var(--primary); }
        
        /* ===== STATUS ===== */
        .status {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 700;
        }
        
        .status-Ø¬Ø¯ÙŠØ¯ { background: #fff3cd; color: #856404; }
        .status-Ù‚ÙŠØ¯_Ø§Ù„ØªØ­Ø¶ÙŠØ± { background: #cce5ff; color: #004085; }
        .status-Ø¬Ø§Ù‡Ø² { background: #d4edda; color: #155724; }
        .status-ØªÙ…_Ø§Ù„ØªÙˆØµÙŠÙ„ { background: #e2e3e5; color: #383d41; }
        .status-Ù…Ù„ØºÙŠ { background: #f8d7da; color: #721c24; }
        
        /* ===== TABLE ===== */
        .table-responsive { overflow-x: auto; }
        
        table { width: 100%; border-collapse: collapse; }
        
        th {
            text-align: right;
            padding: 12px 14px;
            background: var(--light);
            color: var(--gray);
            font-weight: 700;
            font-size: 12px;
        }
        
        td {
            padding: 14px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 13px;
        }
        
        tr:hover td { background: #fafafa; }
        
        .table-actions { display: flex; gap: 6px; }
        
        .table-actions button {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
        }
        
        .table-actions .view-btn { background: #e3f2fd; color: #1976d2; }
        .table-actions .delete-btn { background: #ffebee; color: #c62828; }
        .table-actions button:hover { transform: scale(1.1); }
        
        /* ===== MENU GRID ===== */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 15px;
        }
        
        .menu-item {
            background: var(--light);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .menu-item img { width: 100%; height: 140px; object-fit: cover; }
        
        .menu-item-body { padding: 14px; }
        
        .menu-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 6px;
        }
        
        .menu-item-header h4 { font-size: 14px; color: var(--dark); }
        
        .menu-item-header .price {
            background: var(--primary);
            color: var(--white);
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: 700;
        }
        
        .menu-item-cat {
            color: var(--gray);
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 10px;
        }
        
        /* ===== SETTINGS ===== */
        .settings-card {
            background: var(--white);
            padding: 20px;
            border-radius: 14px;
            margin-bottom: 15px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.05);
        }
        
        .settings-card h3 {
            font-size: 16px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .settings-card h3 i { color: var(--primary); }
        
        .settings-card.danger { border: 2px solid #ffcdd2; }
        .settings-card.danger h3, .settings-card.danger h3 i { color: var(--danger); }
        
        .danger-actions { display: flex; gap: 10px; flex-wrap: wrap; }
        
        /* ===== MODAL ===== */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal.show { display: flex; }
        
        .modal-content {
            background: var(--white);
            border-radius: 16px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow: hidden;
            animation: modalIn 0.3s ease;
        }
        
        @keyframes modalIn {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
        
        .modal-header {
            padding: 16px 20px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .modal-header h3 i { color: var(--primary); }
        
        .modal-close {
            width: 32px;
            height: 32px;
            background: var(--light);
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
        }
        
        .modal-close:hover { background: #e9ecef; }
        
        .modal-body {
            padding: 20px;
            max-height: calc(90vh - 70px);
            overflow-y: auto;
        }
        
        /* ===== ORDER DETAILS ===== */
        .order-details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .order-detail-card {
            background: var(--light);
            padding: 14px;
            border-radius: 10px;
        }
        
        .order-detail-card h4 {
            font-size: 13px;
            color: var(--gray);
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .order-detail-card h4 i { color: var(--primary); }
        .order-detail-card p { font-size: 13px; color: var(--dark); margin-bottom: 3px; }
        
        .order-total {
            text-align: left;
            font-size: 18px;
            font-weight: 800;
            color: var(--primary);
            padding: 14px;
            background: var(--light);
            border-radius: 10px;
            margin-bottom: 16px;
        }
        
        /* ===== TOAST ===== */
        .toast {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--success);
            color: var(--white);
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 5000;
            opacity: 0;
            transition: all 0.4s;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        .toast.error { background: var(--danger); }
        
        /* ===== SIDEBAR OVERLAY ===== */
        .sidebar-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            z-index: 99;
            display: none;
        }
        
        .sidebar-overlay.show { display: block; }
        
        /* ===== RESPONSIVE ===== */
        @media (max-width: 992px) {
            .sidebar { transform: translateX(100%); width: 260px; }
            .sidebar.open { transform: translateX(0); }
            .main { margin-right: 0; }
            .mobile-toggle { display: flex; align-items: center; justify-content: center; }
            .order-details-grid { grid-template-columns: 1fr; }
        }
        
        @media (max-width: 768px) {
            .header { padding: 12px 16px; }
            .content { padding: 16px; }
            .stats-grid { grid-template-columns: 1fr 1fr; }
            .stat-card { padding: 14px; }
            .stat-icon { width: 40px; height: 40px; font-size: 16px; }
            .stat-info h3 { font-size: 20px; }
        }
        
        @media (max-width: 480px) {
            .stats-grid { grid-template-columns: 1fr; }
            .menu-grid { grid-template-columns: 1fr; }
            .card-filters { width: 100%; }
            .card-filters .form-select,
            .card-filters .form-input { width: 100%; }
        }
    </style>
</head>
<body>

<div class="app">
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
    
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo"><i class="fas fa-utensils"></i></div>
            <div>
                <h1>Ù…Ø·Ø¹Ù… Ø§Ù„Ø´ÙŠÙ</h1>
                <small>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</small>
            </div>
        </div>
        
        <nav class="sidebar-nav">
            <button class="nav-item active" onclick="showSection('dashboard', this)">
                <i class="fas fa-chart-pie"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </button>
            <button class="nav-item" onclick="showSection('orders', this)">
                <i class="fas fa-clipboard-list"></i> Ø§Ù„Ø·Ù„Ø¨Ø§Øª
            </button>
            <button class="nav-item" onclick="showSection('menu', this)">
                <i class="fas fa-hamburger"></i> Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
            </button>
            <button class="nav-item" onclick="showSection('settings', this)">
                <i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            </button>
        </nav>
        
        <div class="sidebar-footer">
            <a href="index.html"><i class="fas fa-store"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ØªØ¬Ø±</a>
            <button onclick="logout()"><i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
        </div>
    </aside>
    
    <main class="main">
        <header class="header">
            <button class="mobile-toggle" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
            <div class="header-title">
                <h2 id="pageTitle">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
                <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</p>
            </div>
            <div class="header-actions">
                <button class="notif-btn">
                    <i class="fas fa-bell"></i>
                    <span class="notif-badge" id="notifBadge">0</span>
                </button>
                <div class="avatar"><i class="fas fa-user"></i></div>
            </div>
        </header>
        
        <div class="content">
            <!-- Dashboard -->
            <section class="section active" id="dashboardSection">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blue"><i class="fas fa-clipboard-list"></i></div>
                        <div class="stat-info">
                            <h3 id="totalOrders">0</h3>
                            <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green"><i class="fas fa-money-bill-wave"></i></div>
                        <div class="stat-info">
                            <h3 id="totalRevenue">0 Ø±.Ø³</h3>
                            <p>Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon orange"><i class="fas fa-clock"></i></div>
                        <div class="stat-info">
                            <h3 id="pendingOrders">0</h3>
                            <p>Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon purple"><i class="fas fa-check-double"></i></div>
                        <div class="stat-info">
                            <h3 id="completedOrders">0</h3>
                            <p>Ù…ÙƒØªÙ…Ù„Ø©</p>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-clock"></i> Ø£Ø­Ø¯Ø« Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
                    </div>
                    <div class="card-body" id="recentOrders"></div>
                </div>
            </section>
            
            <!-- Orders -->
            <section class="section" id="ordersSection">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-list"></i> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
                        <div class="card-filters">
                            <select class="form-select" id="statusFilter" onchange="filterOrders()" style="width:140px">
                                <option value="all">ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
                                <option value="Ø¬Ø¯ÙŠØ¯">Ø¬Ø¯ÙŠØ¯</option>
                                <option value="Ù‚ÙŠØ¯_Ø§Ù„ØªØ­Ø¶ÙŠØ±">Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±</option>
                                <option value="Ø¬Ø§Ù‡Ø²">Ø¬Ø§Ù‡Ø²</option>
                                <option value="ØªÙ…_Ø§Ù„ØªÙˆØµÙŠÙ„">ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</option>
                                <option value="Ù…Ù„ØºÙŠ">Ù…Ù„ØºÙŠ</option>
                            </select>
                            <input type="text" class="form-input" id="searchInput" placeholder="Ø¨Ø­Ø«..." onkeyup="filterOrders()" style="width:150px">
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive" id="ordersTable"></div>
                    </div>
                </div>
            </section>
            
            <!-- Menu -->
            <section class="section" id="menuSection">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-utensils"></i> Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù…</h3>
                        <button class="btn btn-primary" onclick="showAddItemModal()">
                            <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="menu-grid" id="menuList"></div>
                    </div>
                </div>
            </section>
            
            <!-- Settings -->
            <section class="section" id="settingsSection">
                <div class="settings-card">
                    <h3><i class="fas fa-key"></i> ØªØºÙŠÙŠØ± Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
                    <form onsubmit="changeAdminCode(event)" style="max-width:320px">
                        <div class="form-group">
                            <label>Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø­Ø§Ù„ÙŠ</label>
                            <input type="password" class="form-input" id="currentCode" required>
                        </div>
                        <div class="form-group">
                            <label>Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¬Ø¯ÙŠØ¯</label>
                            <input type="password" class="form-input" id="newCode" required>
                        </div>
                        <div class="form-group">
                            <label>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¬Ø¯ÙŠØ¯</label>
                            <input type="password" class="form-input" id="confirmCode" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
                        </button>
                    </form>
                </div>
                
                <div class="settings-card">
                    <h3><i class="fas fa-store"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ø¹Ù…</h3>
                    <form onsubmit="saveRestaurantInfo(event)" style="max-width:350px">
                        <div class="form-group">
                            <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø·Ø¹Ù…</label>
                            <input type="text" class="form-input" id="restaurantName" value="Ù…Ø·Ø¹Ù… Ø§Ù„Ø´ÙŠÙ">
                        </div>
                        <div class="form-group">
                            <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                            <input type="tel" class="form-input" id="restaurantPhone" value="+966 50 123 4567">
                        </div>
                        <div class="form-group">
                            <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                            <input type="text" class="form-input" id="restaurantAddress" value="Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯ØŒ Ø§Ù„Ø±ÙŠØ§Ø¶">
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
                        </button>
                    </form>
                </div>
                
                <div class="settings-card danger">
                    <h3><i class="fas fa-exclamation-triangle"></i> Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø®Ø·Ø±</h3>
                    <p style="color:var(--gray);margin-bottom:12px;font-size:13px">Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡Ø§</p>
                    <div class="danger-actions">
                        <button class="btn btn-outline" onclick="clearAllOrders()">
                            <i class="fas fa-trash"></i> Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
                        </button>
                        <button class="btn btn-danger" onclick="resetEverything()">
                            <i class="fas fa-undo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù…ØµÙ†Ø¹
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </main>
</div>

<!-- Order Modal -->
<div class="modal" id="orderModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-receipt"></i> ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</h3>
            <button class="modal-close" onclick="closeModal('orderModal')">Ã—</button>
        </div>
        <div class="modal-body" id="orderDetails"></div>
    </div>
</div>

<!-- Add Item Modal -->
<div class="modal" id="addItemModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯</h3>
            <button class="modal-close" onclick="closeModal('addItemModal')">Ã—</button>
        </div>
        <form class="modal-body" onsubmit="addNewItem(event)">
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù</label>
                <input type="text" class="form-input" id="itemName" required placeholder="Ù…Ø«Ø§Ù„: Ø¨Ø±Ø¬Ø± Ù„Ø­Ù…">
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ø³Ø¹Ø± (Ø±.Ø³)</label>
                <input type="number" class="form-input" id="itemPrice" required placeholder="35">
            </div>
            <div class="form-group">
                <label>Ø§Ù„ØªØµÙ†ÙŠÙ</label>
                <select class="form-select" id="itemCategory" required>
                    <option value="burger">Ø¨Ø±Ø¬Ø±</option>
                    <option value="pizza">Ø¨ÙŠØªØ²Ø§</option>
                    <option value="chicken">Ø¯Ø¬Ø§Ø¬</option>
                    <option value="drinks">Ù…Ø´Ø±ÙˆØ¨Ø§Øª</option>
                </select>
            </div>
            <div class="form-group">
                <label>Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©</label>
                <input type="url" class="form-input" id="itemImage" required placeholder="https://...">
            </div>
            <div class="form-group">
                <label>Ø§Ù„ÙˆØµÙ</label>
                <input type="text" class="form-input" id="itemDesc" required placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„ØµÙ†Ù">
            </div>
            <div style="display:flex;gap:10px;margin-top:20px">
                <button type="submit" class="btn btn-success" style="flex:1">
                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ©
                </button>
                <button type="button" class="btn btn-outline" onclick="closeModal('addItemModal')">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </form>
    </div>
</div>

<div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <span id="toastMsg">ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!</span>
</div>

<script>
if (localStorage.getItem('chef_admin_auth') !== 'true') {
    window.location.href = 'index.html';
}

const defaultMenu = [
    { id: 1, name: 'Ø¨Ø±Ø¬Ø± ÙƒÙ„Ø§Ø³ÙŠÙƒ', price: 35, cat: 'burger', img: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400', desc: 'Ø¨Ø±Ø¬Ø± Ù„Ø­Ù… Ø·Ø§Ø²Ø¬ Ù…Ø¹ Ø¬Ø¨Ù†Ø©' },
    { id: 2, name: 'Ø¨Ø±Ø¬Ø± Ø¯Ø¬Ø§Ø¬', price: 30, cat: 'burger', img: 'https://images.unsplash.com/photo-1606755962773-d324e0a13086?w=400', desc: 'Ø¯Ø¬Ø§Ø¬ Ù…Ù‚Ø±Ù…Ø´' },
    { id: 3, name: 'Ø¨Ø±Ø¬Ø± Ø¯Ø¨Ù„', price: 50, cat: 'burger', img: 'https://images.unsplash.com/photo-1553979459-d2229ba7433b?w=400', desc: 'Ø·Ø¨Ù‚ØªØ§Ù† Ù„Ø­Ù…' },
    { id: 4, name: 'Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§', price: 45, cat: 'pizza', img: 'https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=400', desc: 'Ø·Ù…Ø§Ø·Ù… ÙˆÙ…ÙˆØ²Ø§Ø±ÙŠÙ„Ø§' },
    { id: 5, name: 'Ø¨ÙŠØªØ²Ø§ Ø¨ÙŠØ¨Ø±ÙˆÙ†ÙŠ', price: 55, cat: 'pizza', img: 'https://images.unsplash.com/photo-1628840042765-356cda07504e?w=400', desc: 'Ø¨ÙŠØ¨Ø±ÙˆÙ†ÙŠ Ø­Ø§Ø±' },
    { id: 6, name: 'Ø¨ÙŠØªØ²Ø§ Ø®Ø¶Ø§Ø±', price: 40, cat: 'pizza', img: 'https://images.unsplash.com/photo-1511689660979-10d2b1aada49?w=400', desc: 'Ø®Ø¶Ø±ÙˆØ§Øª Ø·Ø§Ø²Ø¬Ø©' },
    { id: 7, name: 'Ø¯Ø¬Ø§Ø¬ Ù…Ù‚Ù„ÙŠ', price: 40, cat: 'chicken', img: 'https://images.unsplash.com/photo-1626645738196-c2a7c87a8f58?w=400', desc: '8 Ù‚Ø·Ø¹ Ù…Ù‚Ø±Ù…Ø´' },
    { id: 8, name: 'Ø£Ø¬Ù†Ø­Ø© Ø­Ø§Ø±Ø©', price: 35, cat: 'chicken', img: 'https://images.unsplash.com/photo-1608039829572-9b0189c96a58?w=400', desc: 'ØµÙ„ØµØ© Ø­Ø§Ø±Ø©' },
    { id: 9, name: 'Ø´Ø§ÙˆØ±Ù…Ø§ Ø¯Ø¬Ø§Ø¬', price: 25, cat: 'chicken', img: 'https://images.unsplash.com/photo-1529006557810-274b9b2fc783?w=400', desc: 'Ù…Ø¹ Ø§Ù„Ø«ÙˆÙ…ÙŠØ©' },
    { id: 10, name: 'Ø¹ØµÙŠØ± Ø¨Ø±ØªÙ‚Ø§Ù„', price: 12, cat: 'drinks', img: 'https://images.unsplash.com/photo-1621506289937-a8e4df240d0b?w=400', desc: 'Ø·Ø§Ø²Ø¬' },
    { id: 11, name: 'ÙƒÙˆÙ„Ø§', price: 8, cat: 'drinks', img: 'https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400', desc: 'Ø¨Ø§Ø±Ø¯' },
    { id: 12, name: 'Ù…ÙˆÙ‡ÙŠØªÙˆ', price: 15, cat: 'drinks', img: 'https://images.unsplash.com/photo-1551538827-9c037cb4f32a?w=400', desc: 'Ù†Ø¹Ù†Ø§Ø¹ ÙˆÙ„ÙŠÙ…ÙˆÙ†' },
];

const catNames = { burger: 'Ø¨Ø±Ø¬Ø±', pizza: 'Ø¨ÙŠØªØ²Ø§', chicken: 'Ø¯Ø¬Ø§Ø¬', drinks: 'Ù…Ø´Ø±ÙˆØ¨Ø§Øª' };

let menu = JSON.parse(localStorage.getItem('chef_menu')) || defaultMenu;
let orders = JSON.parse(localStorage.getItem('chef_orders')) || [];

function showSection(id, btn) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    document.getElementById(id + 'Section').classList.add('active');
    btn.classList.add('active');
    
    const titles = { dashboard: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', orders: 'Ø§Ù„Ø·Ù„Ø¨Ø§Øª', menu: 'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©', settings: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª' };
    document.getElementById('pageTitle').textContent = titles[id];
    
    if (window.innerWidth <= 992) toggleSidebar();
    
    if (id === 'dashboard') loadDashboard();
    if (id === 'orders') loadOrders();
    if (id === 'menu') loadMenu();
}

function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('open');
    document.getElementById('sidebarOverlay').classList.toggle('show');
}

function loadDashboard() {
    orders = JSON.parse(localStorage.getItem('chef_orders')) || [];
    
    const total = orders.length;
    const revenue = orders.filter(o => o.status !== 'Ù…Ù„ØºÙŠ').reduce((s, o) => s + o.total, 0);
    const pending = orders.filter(o => o.status === 'Ø¬Ø¯ÙŠØ¯' || o.status === 'Ù‚ÙŠØ¯_Ø§Ù„ØªØ­Ø¶ÙŠØ±').length;
    const completed = orders.filter(o => o.status === 'ØªÙ…_Ø§Ù„ØªÙˆØµÙŠÙ„').length;
    const newOrders = orders.filter(o => o.status === 'Ø¬Ø¯ÙŠØ¯').length;
    
    document.getElementById('totalOrders').textContent = total;
    document.getElementById('totalRevenue').textContent = revenue.toLocaleString() + ' Ø±.Ø³';
    document.getElementById('pendingOrders').textContent = pending;
    document.getElementById('completedOrders').textContent = completed;
    document.getElementById('notifBadge').textContent = newOrders;
    
    document.getElementById('recentOrders').innerHTML = orders.slice(0, 5).length ? orders.slice(0, 5).map(o => 
        `<div class="order-item" onclick="viewOrder(${o.id})">
            <div class="order-info">
                <h4>${o.customer.name}</h4>
                <p>${o.date}</p>
            </div>
            <div class="order-meta">
                <div class="price">${o.total} Ø±.Ø³</div>
                <span class="status status-${o.status}">${o.status.replace('_', ' ')}</span>
            </div>
        </div>`
    ).join('') : '<p style="text-align:center;color:var(--gray);padding:30px">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯</p>';
}

function loadOrders() {
    orders = JSON.parse(localStorage.getItem('chef_orders')) || [];
    filterOrders();
}

function filterOrders() {
    const status = document.getElementById('statusFilter').value;
    const search = document.getElementById('searchInput').value.toLowerCase();
    
    let filtered = orders;
    if (status !== 'all') filtered = filtered.filter(o => o.status === status);
    if (search) filtered = filtered.filter(o => o.customer.name.includes(search) || o.customer.phone.includes(search));
    
    document.getElementById('ordersTable').innerHTML = filtered.length ? `
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                    <th>Ø§Ù„Ù‡Ø§ØªÙ</th>
                    <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
                    <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                    <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                    <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                </tr>
            </thead>
            <tbody>
                ${filtered.map(o => `
                    <tr>
                        <td><strong>#${o.id.toString().slice(-4)}</strong></td>
                        <td>${o.customer.name}</td>
                        <td dir="ltr">${o.customer.phone}</td>
                        <td><strong style="color:var(--primary)">${o.total} Ø±.Ø³</strong></td>
                        <td>
                            <select class="status status-${o.status}" onchange="updateOrderStatus(${o.id}, this.value)" style="border:none;cursor:pointer;font-weight:700;padding:5px 10px">
                                <option value="Ø¬Ø¯ÙŠØ¯" ${o.status === 'Ø¬Ø¯ÙŠØ¯' ? 'selected' : ''}>Ø¬Ø¯ÙŠØ¯</option>
                                <option value="Ù‚ÙŠØ¯_Ø§Ù„ØªØ­Ø¶ÙŠØ±" ${o.status === 'Ù‚ÙŠØ¯_Ø§Ù„ØªØ­Ø¶ÙŠØ±' ? 'selected' : ''}>Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±</option>
                                <option value="Ø¬Ø§Ù‡Ø²" ${o.status === 'Ø¬Ø§Ù‡Ø²' ? 'selected' : ''}>Ø¬Ø§Ù‡Ø²</option>
                                <option value="ØªÙ…_Ø§Ù„ØªÙˆØµÙŠÙ„" ${o.status === 'ØªÙ…_Ø§Ù„ØªÙˆØµÙŠÙ„' ? 'selected' : ''}>ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</option>
                                <option value="Ù…Ù„ØºÙŠ" ${o.status === 'Ù…Ù„ØºÙŠ' ? 'selected' : ''}>Ù…Ù„ØºÙŠ</option>
                            </select>
                        </td>
                        <td style="font-size:11px;color:var(--gray)">${o.date}</td>
                        <td>
                            <div class="table-actions">
                                <button class="view-btn" onclick="viewOrder(${o.id})" title="Ø¹Ø±Ø¶"><i class="fas fa-eye"></i></button>
                                <button class="delete-btn" onclick="deleteOrder(${o.id})" title="Ø­Ø°Ù"><i class="fas fa-trash"></i></button>
                            </div>
                        </td>
                    </tr>
                `).join('')}
            </tbody>
        </table>
    ` : '<p style="text-align:center;color:var(--gray);padding:30px">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</p>';
}

function updateOrderStatus(id, status) {
    const order = orders.find(o => o.id === id);
    if (order) {
        order.status = status;
        localStorage.setItem('chef_orders', JSON.stringify(orders));
        showToast('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©');
        filterOrders();
        loadDashboard();
    }
}

function viewOrder(id) {
    const o = orders.find(x => x.id === id);
    if (!o) return;
    
    document.getElementById('orderDetails').innerHTML = `
        <div class="order-details-grid">
            <div class="order-detail-card">
                <h4><i class="fas fa-user"></i> Ø§Ù„Ø¹Ù…ÙŠÙ„</h4>
                <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${o.customer.name}</p>
                <p><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${o.customer.phone}</p>
                <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${o.customer.address}</p>
            </div>
            <div class="order-detail-card">
                <h4><i class="fas fa-info-circle"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨</h4>
                <p><strong>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</strong> #${o.id.toString().slice(-4)}</p>
                <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${o.date}</p>
                <p><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> <span class="status status-${o.status}">${o.status.replace('_', ' ')}</span></p>
            </div>
        </div>
        ${o.notes ? `<div style="background:#fff3cd;padding:10px 14px;border-radius:8px;margin-bottom:12px;font-size:13px"><strong>Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</strong> ${o.notes}</div>` : ''}
        <table style="margin-bottom:12px">
            <thead><tr><th>Ø§Ù„ØµÙ†Ù</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th></tr></thead>
            <tbody>
                ${o.items.map(i => `<tr><td>${i.name}</td><td>${i.qty}</td><td>${i.price} Ø±.Ø³</td><td><strong>${i.price * i.qty} Ø±.Ø³</strong></td></tr>`).join('')}
            </tbody>
        </table>
        <div class="order-total">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${o.total} Ø±.Ø³</div>
        <div style="display:flex;gap:10px">
            <button class="btn btn-primary" style="flex:1" onclick="printOrder(${o.id})"><i class="fas fa-print"></i> Ø·Ø¨Ø§Ø¹Ø©</button>
            <button class="btn btn-danger" onclick="deleteOrder(${o.id});closeModal('orderModal')"><i class="fas fa-trash"></i></button>
        </div>
    `;
    document.getElementById('orderModal').classList.add('show');
}

function deleteOrder(id) {
    if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ØŸ')) {
        orders = orders.filter(o => o.id !== id);
        localStorage.setItem('chef_orders', JSON.stringify(orders));
        showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨');
        loadDashboard();
        filterOrders();
    }
}

function printOrder(id) {
    const o = orders.find(x => x.id === id);
    if (!o) return;
    const w = window.open('', '_blank');
    w.document.write(`<!DOCTYPE html><html dir="rtl"><head><title>Ø·Ù„Ø¨ #${o.id.toString().slice(-4)}</title>
        <style>body{font-family:Arial;padding:20px}table{width:100%;border-collapse:collapse;margin:15px 0}th,td{border:1px solid #ddd;padding:8px;text-align:right}th{background:#f5f5f5}h1{color:#ff6b35}</style></head>
        <body><h1>ğŸ½ï¸ Ù…Ø·Ø¹Ù… Ø§Ù„Ø´ÙŠÙ</h1><hr>
        <p><strong>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</strong> #${o.id.toString().slice(-4)}</p>
        <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${o.date}</p>
        <p><strong>Ø§Ù„Ø¹Ù…ÙŠÙ„:</strong> ${o.customer.name} - ${o.customer.phone}</p>
        <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${o.customer.address}</p>
        <table><tr><th>Ø§Ù„ØµÙ†Ù</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th></tr>
        ${o.items.map(i => `<tr><td>${i.name}</td><td>${i.qty}</td><td>${i.price}</td><td>${i.price * i.qty} Ø±.Ø³</td></tr>`).join('')}
        </table><h2>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${o.total} Ø±.Ø³</h2><hr><p style="text-align:center">Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±ÙƒÙ… Ù…Ø·Ø¹Ù… Ø§Ù„Ø´ÙŠÙ! ğŸ½ï¸</p></body></html>`);
    w.document.close();
    w.print();
}

function loadMenu() {
    menu = JSON.parse(localStorage.getItem('chef_menu')) || defaultMenu;
    document.getElementById('menuList').innerHTML = menu.map(i => 
        `<div class="menu-item">
            <img src="${i.img}" alt="${i.name}">
            <div class="menu-item-body">
                <div class="menu-item-header">
                    <h4>${i.name}</h4>
                    <span class="price">${i.price} Ø±.Ø³</span>
                </div>
                <div class="menu-item-cat"><i class="fas fa-tag"></i> ${catNames[i.cat]}</div>
                <button class="btn btn-danger btn-sm" style="width:100%" onclick="deleteMenuItem(${i.id})">
                    <i class="fas fa-trash"></i> Ø­Ø°Ù
                </button>
            </div>
        </div>`
    ).join('');
}

function showAddItemModal() {
    document.getElementById('addItemModal').classList.add('show');
}

function addNewItem(e) {
    e.preventDefault();
    menu.push({
        id: Date.now(),
        name: document.getElementById('itemName').value,
        price: parseInt(document.getElementById('itemPrice').value),
        cat: document.getElementById('itemCategory').value,
        img: document.getElementById('itemImage').value,
        desc: document.getElementById('itemDesc').value
    });
    localStorage.setItem('chef_menu', JSON.stringify(menu));
    closeModal('addItemModal');
    e.target.reset();
    loadMenu();
    showToast('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ†Ù Ø¨Ù†Ø¬Ø§Ø­');
}

function deleteMenuItem(id) {
    if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØµÙ†ÙØŸ')) {
        menu = menu.filter(i => i.id !== id);
        localStorage.setItem('chef_menu', JSON.stringify(menu));
        loadMenu();
        showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„ØµÙ†Ù');
    }
}

function changeAdminCode(e) {
    e.preventDefault();
    const current = document.getElementById('currentCode').value;
    const newCode = document.getElementById('newCode').value;
    const confirm = document.getElementById('confirmCode').value;
    const saved = localStorage.getItem('chef_admin_code') || '1234';
    
    if (current !== saved) { showToast('Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø­Ø§Ù„ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­', 'error'); return; }
    if (newCode !== confirm) { showToast('Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¬Ø¯ÙŠØ¯ ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚', 'error'); return; }
    if (newCode.length < 4) { showToast('Ø§Ù„Ø±Ù…Ø² ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 4 Ø£Ø±Ù‚Ø§Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„', 'error'); return; }
    
    localStorage.setItem('chef_admin_code', newCode);
    showToast('ØªÙ… ØªØºÙŠÙŠØ± Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­');
    e.target.reset();
}

function saveRestaurantInfo(e) {
    e.preventDefault();
    localStorage.setItem('chef_restaurant_info', JSON.stringify({
        name: document.getElementById('restaurantName').value,
        phone: document.getElementById('restaurantPhone').value,
        address: document.getElementById('restaurantAddress').value
    }));
    showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
}

function clearAllOrders() {
    if (confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§ØªØŸ')) {
        localStorage.removeItem('chef_orders');
        orders = [];
        loadDashboard();
        filterOrders();
        showToast('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª');
    }
}

function resetEverything() {
    if (confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· ÙƒÙ„ Ø´ÙŠØ¡ØŸ')) {
        localStorage.removeItem('chef_orders');
        localStorage.removeItem('chef_menu');
        localStorage.removeItem('chef_cart');
        localStorage.removeItem('chef_restaurant_info');
        localStorage.removeItem('chef_admin_code');
        showToast('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù…ØµÙ†Ø¹');
        setTimeout(() => location.reload(), 1500);
    }
}

function closeModal(id) { document.getElementById(id).classList.remove('show'); }
function logout() { localStorage.removeItem('chef_admin_auth'); window.location.href = 'index.html'; }

function showToast(msg, type = 'success') {
    const toast = document.getElementById('toast');
    toast.className = 'toast show ' + (type === 'error' ? 'error' : '');
    document.getElementById('toastMsg').textContent = msg;
    setTimeout(() => toast.classList.remove('show'), 3000);
}

document.addEventListener('DOMContentLoaded', () => {
    loadDashboard();
    const info = JSON.parse(localStorage.getItem('chef_restaurant_info'));
    if (info) {
        document.getElementById('restaurantName').value = info.name || '';
        document.getElementById('restaurantPhone').value = info.phone || '';
        document.getElementById('restaurantAddress').value = info.address || '';
    }
});

document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
        closeModal('orderModal');
        closeModal('addItemModal');
    }
});
</script>

</body>
</html>
